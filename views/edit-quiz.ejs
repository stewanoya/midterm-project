<!DOCTYPE html>
<html lang="en">
  <head>
    <title>sQuiz Game - Edit Quiz</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/main.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link rel="stylesheet" href="/styles/nav.css" type="text/css" />

    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <script type="text/javascript" src="/scripts/app.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <script
      src="https://use.fontawesome.com/releases/v5.15.4/js/all.js"
      data-auto-a11y="true"
    ></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <%- include('partials/_header') %>

    <!-- utility div to provide spacing for fixed header -->
    <div class="spacer"></div>

    <div class="edit-container">
      <h2 class="slogan-text">Editing: <%= quizzes[0].title %></h2>

      <img
        src="<%=quizzes[0].cover_image_url%>"
        alt="Cover-image"
        class="image-edit"
      />
      <form class="edit-form" action="/edit/<%=quizzes[0].id%>" method="POST">
        <div class="title-container">
          <label for="title">Title:</label>
          <input type="text" value="<%= quizzes[0].title %>" name="title" />
          <label for="title">Cover Image URL:</label>
          <input
            type="text"
            value="<%= quizzes[0].cover_image_url %>"
            name="cover_image_url"
          />
          <br />

          <input type="checkbox" id="isPublic" name="ispublic" value="True" />
          <label for="isPublic">Viewable by everyone</label>
        </div>
        <!-- counter for questions -->
        <% let qCounter = 1; %> <% for (quiz of quizzes) {%>

        <ul class="questions-container">
          <label for="question">Question <%=qCounter%>:</label>
          <input
            class="question-input"
            type="text"
            value="<%= quiz.question %> "
            name="question"
          />
          <label for="question">Image URL for Question <%=qCounter%>:</label>
          <input
            class="question-input"
            type="text"
            value="<%= quiz.image_url %> "
            name="image_url"
          />
          <input
            type="hidden"
            value="<%= quiz.questionid %> "
            name="questionid"
          />
          <li class="choices-container">
            <label for="choice_1">Choice 1:</label>
            <input
              class="choice-input"
              type="text"
              value="<%= quiz.choice_1 %> "
              name="choice_1"
            />
            <label for="choice_2">Choice 2:</label>
            <input
              class="choice-input"
              type="text"
              value="<%= quiz.choice_2 %> "
              name="choice_2"
            />
            <% if (quiz.choice_3) { %>
            <label for="choice_3">Choice 3:</label>
            <input
              class="choice-input"
              type="text"
              value="<%= quiz.choice_3 %> "
              name="choice_3"
            />
            <% } %> <% if (quiz.choice_4) { %>
            <label for="choice_4">Choice 4:</label>
            <input
              class="choice-input"
              type="text"
              value="<%= quiz.choice_4 %> "
              name="choice_4"
            />
            <% } %>
            <label for="answer">Answer:</label>
            <select class="answer-input" name="answer">
              <option value="choice1">Choice 1</option>
              <option value="choice2">Choice 2</option>
              <% if (quiz.choice_3) { %>
              <option value="choice3">Choice 3</option>
              <%}%> <% if (quiz.choice_4) { %>
              <option value="choice4">Choice 4</option>
              <% } %>
            </select>

            <% qCounter++; %>
          </li>
        </ul>
        <%}%>
        <h2>All done?</h2>
        <button type="submit" class="btn-primary">Submit</button>
      </form>
    </div>
  </body>
</html>
